# ๐ ุงูุจุญุซ ุงูุฐูู ุงููุญุณูู - Enhanced AI Search

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญุณูู ูุธุงู ุงูุจุญุซ ุงูุฐูู ููุฏุนู ุงูุจุญุซ ูู **ุฌููุน ุฃููุงุน ุงููููุงุช**:
- ๐ **ุงููุณุชูุฏุงุช** (PDF, DOCX, Excel, Text)
- ๐ผ๏ธ **ุงูุตูุฑ** (ูุตูุ objectsุ sceneุ colors)
- ๐ต **ุงูุตูุช** (transcript ูู Whisper)
- ๐ฅ **ุงูููุฏูู** (transcriptุ scenes)

---

## ๐ฏ ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุงุณุชุฎุฑุงุฌ ุจูุงูุงุช ุงูุตูุฑ
ุนูุฏ ุฑูุน ุตูุฑุฉุ ุงููุธุงู:
- ูููุฏ ูุตู ุชูุตููู ููุตูุฑุฉ
- ูุณุชุฎุฑุฌ Objects (ุฃุดุฎุงุตุ ุณูุงุฑุงุชุ ูุจุงููุ ุฅูุฎ)
- ูุญุฏุฏ Scene (ุดุงุทุฆุ ุฌุจูุ ูุฏููุฉุ ุฅูุฎ)
- ูุณุชุฎุฑุฌ ุงูุฃููุงู
- ููุฑุฃ ุฃู ูุต ููุฌูุฏ ูู ุงูุตูุฑุฉ

**ูุซุงู:**
```
ุงููุณุชุฎุฏู ูุจุญุซ: "ุตูุฑ ูููุง ุจุญุฑ"
AI ูุฌุฏ: ุฌููุน ุงูุตูุฑ ุงูุชู ุชุญุชูู ุนูู ูุตู "beach", "ocean", "water"
```

### 2. ุงุณุชุฎุฑุงุฌ ูุต ูู ุงูุตูุช
ุนูุฏ ุฑูุน ููู ุตูุชู:
- ูุชู ุชุญูููู ุฅูู ูุต ุจุงุณุชุฎุฏุงู Whisper API
- ุงููุต ููุณุชุฎุฏู ููุจุญุซ

**ูุซุงู:**
```
ุงููุณุชุฎุฏู ูุจุญุซ: "ูุญุงุถุฑุฉ ุนู ุงูุฐูุงุก ุงูุงุตุทูุงุนู"
AI ูุฌุฏ: ุฌููุน ุงููููุงุช ุงูุตูุชูุฉ ุงูุชู ุชุญุชูู ุนูู ูุฐู ุงููููุงุช ูู transcript
```

### 3. ุงุณุชุฎุฑุงุฌ ุจูุงูุงุช ุงูููุฏูู
ุนูุฏ ุฑูุน ููุฏูู:
- ูุชู ุงุณุชุฎุฑุงุฌ transcript (ุฅุฐุง ูุงู ูุชููุฑุงู)
- ูุชู ูุตู ุงููุดุงูุฏ

---

## ๐ง ุงูุฅุนุฏุงุฏุงุช ุงููุทููุจุฉ

### 1. ูุชุบูุฑุงุช ุงูุจูุฆุฉ (config.env)

```env
# OpenAI API Key (ููู Vision API ู Whisper)
OPENAI_API_KEY=sk-...

# OpenRouter API Key (ููู Embeddings - ูุฌุงูู)
OPENROUTER_API_KEY=sk-or-...

# ูููุฐุฌ Embedding (ุงูุชุฑุงุถู: text-embedding-3-small)
OPENROUTER_EMBEDDING_MODEL=text-embedding-3-small
```

### 2. ุชุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ

```bash
npm install openai axios
```

---

## ๐ ุจููุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ

### File Model - ุงูุญููู ุงูุฌุฏูุฏุฉ

```javascript
{
  // ุจูุงูุงุช ุงูุตูุฑ
  imageDescription: String,      // ูุตู ุงูุตูุฑุฉ
  imageObjects: [String],        // Objects ูู ุงูุตูุฑุฉ
  imageScene: String,            // Scene (beach, mountain, etc.)
  imageColors: [String],         // ุงูุฃููุงู
  imageMood: String,             // Mood
  imageText: String,             // ูุต ููุฌูุฏ ูู ุงูุตูุฑุฉ
  
  // ุจูุงูุงุช ุงูุตูุช
  audioTranscript: String,       // Transcript ูู Whisper
  
  // ุจูุงูุงุช ุงูููุฏูู
  videoTranscript: String,       // Transcript ูู ุงูููุฏูู
  videoScenes: [String],         // ูุตู ุงููุดุงูุฏ
  videoDescription: String,      // ูุตู ุนุงู ููููุฏูู
}
```

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฑูุน ููู ุฌุฏูุฏ

ุนูุฏ ุฑูุน ูููุ ูุชู ูุนุงูุฌุชู ุชููุงุฆูุงู ูู ุงูุฎูููุฉ:

```javascript
POST /api/v1/files/upload-single
```

**ุงููููุงุช ุงููุฏุนููุฉ:**
- ๐ Documents: PDF, DOCX, Excel, TXT
- ๐ผ๏ธ Images: JPG, PNG, GIF, WEBP
- ๐ต Audio: MP3, WAV, M4A
- ๐ฅ Videos: MP4, AVI, MOV

### 2. ุงูุจุญุซ ุงูุฐูู

```javascript
POST /api/v1/search/smart
Body: {
  "query": "ุตูุฑ ูููุง ุจุญุฑ",
  "limit": 20,
  "minScore": 0.2,
  "category": "Images" // ุงุฎุชูุงุฑู
}
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "message": "Smart search completed successfully",
  "query": "ุตูุฑ ูููุง ุจุญุฑ",
  "resultsCount": 5,
  "results": [
    {
      "type": "file",
      "_id": "...",
      "name": "beach-sunset.jpg",
      "category": "Images",
      "relevanceScore": 0.85,
      "searchType": "ai",
      "viewUrl": "/api/v1/files/.../view",
      "downloadUrl": "/api/v1/files/.../download"
    }
  ]
}
```

---

## ๐ ุฃูุซูุฉ ุงูุจุญุซ

### ุงูุจุญุซ ูู ุงูุตูุฑ
```
Query: "ุตูุฑ ูููุง ุดุฎุตูู"
โ ูุฌุฏ ุงูุตูุฑ ุงูุชู ุชุญุชูู ุนูู "person", "people" ูู imageObjects

Query: "ุตูุฑุฉ ุดุงุทุฆ"
โ ูุฌุฏ ุงูุตูุฑ ุงูุชู ุชุญุชูู ุนูู "beach" ูู imageScene ุฃู imageDescription
```

### ุงูุจุญุซ ูู ุงูุตูุช
```
Query: "ูุญุงุถุฑุฉ ุนู ุงูุฐูุงุก ุงูุงุตุทูุงุนู"
โ ูุจุญุซ ูู audioTranscript

Query: "ุงุฌุชูุงุน ุงูุดุฑูุฉ"
โ ูุฌุฏ ุงููููุงุช ุงูุตูุชูุฉ ุงูุชู ุชุญุชูู ุนูู ูุฐู ุงููููุงุช
```

### ุงูุจุญุซ ูู ุงููุณุชูุฏุงุช
```
Query: "ุนูุฏ ุฅูุฌุงุฑ"
โ ูุจุญุซ ูู extractedText ูู PDF/DOCX

Query: "ููุงุชูุฑ ุดูุฑ ููุงูุฑ"
โ ูุจุญุซ ูู extractedText ู name
```

---

## โ๏ธ ูุนุงูุฌุฉ ุงููููุงุช

### ูุนุงูุฌุฉ ูุฏููุฉ

```javascript
POST /api/v1/search/process/:fileId
```

### ุฅุนุงุฏุฉ ูุนุงูุฌุฉ

```javascript
POST /api/v1/search/reprocess/:fileId
```

---

## ๐จ ุชุญุณููุงุช ุงูุฃุฏุงุก

1. **ูุนุงูุฌุฉ ูู ุงูุฎูููุฉ**: ุงููููุงุช ุชูุนุงูุฌ ุชููุงุฆูุงู ุจุนุฏ ุงูุฑูุน
2. **Caching**: Embeddings ูุญููุธุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. **Batch Processing**: ูููู ูุนุงูุฌุฉ ูููุงุช ูุชุนุฏุฏุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **OpenAI API Key**: ูุทููุจ ููู Vision API ู Whisper
   - ูููู ุงูุญุตูู ุนููู ูู: https://platform.openai.com/api-keys
   - **ููุงุญุธุฉ**: Vision API ู Whisper ูุฏููุนุงู

2. **OpenRouter**: ูุฌุงูู ููู Embeddings
   - ูููู ุงูุญุตูู ุนููู ูู: https://openrouter.ai/keys

3. **ุงูุชูุงููู**:
   - Vision API: ~$0.01-0.03 ููู ุตูุฑุฉ
   - Whisper API: ~$0.006 ููู ุฏูููุฉ ุตูุช
   - Embeddings: ูุฌุงูู ุนุจุฑ OpenRouter

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุตูุฑ ูุง ุชูุนุงูุฌ
- ุชุฃูุฏ ูู ูุฌูุฏ `OPENAI_API_KEY`
- ุชุญูู ูู ุฃู ุงูุตูุฑุฉ ููุฌูุฏุฉ ูู ุงููุณุงุฑ ุงูุตุญูุญ

### ุงูุตูุช ูุง ููุนุงูุฌ
- ุชุฃูุฏ ูู ูุฌูุฏ `OPENAI_API_KEY`
- ุชุญูู ูู ุฃู ุงูููู ุงูุตูุชู ุจุตูุบุฉ ูุฏุนููุฉ (MP3, WAV, M4A)

### ุงูุจุญุซ ูุง ูุนูู
- ุชุฃูุฏ ูู ุฃู ุงููููุงุช ุชูุช ูุนุงูุฌุชูุง (`isProcessed: true`)
- ุชุญูู ูู ูุฌูุฏ `embedding` ูู ุงูููู

---

## ๐ฎ ุชุญุณููุงุช ูุณุชูุจููุฉ

- [ ] ุฏุนู ุงูุจุญุซ ุจุงูุตูุช (Voice Search)
- [ ] ุชุญุณูู ุงุณุชุฎุฑุงุฌ ุงูููุฏูู (FFmpeg integration)
- [ ] ุฏุนู ุงูุจุญุซ ูุชุนุฏุฏ ุงููุบุงุช ุจุดูู ุฃูุถู
- [ ] ุชุตููู ุชููุงุฆู ูููููุงุช
- [ ] ุงูุชุฑุงุญ ูุฌูุฏุงุช ุฐููุฉ

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงููุ ุชุฃูุฏ ูู:
1. ูุญุต logs ูู console
2. ุงูุชุญูู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
3. ุงูุชุฃูุฏ ูู ุฃู ุงููููุงุช ุชูุช ูุนุงูุฌุชูุง

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ:** Filevo Backend Team
**ุงูุชุงุฑูุฎ:** 2024























